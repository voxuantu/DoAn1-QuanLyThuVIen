<%- contentFor('head')  %> 
<title>Trang chủ</title>
<%- contentFor('body') %> 
<%- include('./particals/header.ejs')  %> 
<div id="carouselExampleControls" class="carousel slide container" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="/images/banner1.png" class="d-block w-100" alt="banner1">
      </div>
      <div class="carousel-item">
        <img src="/images/banner2.png" class="d-block w-100" alt="banner2">
      </div>
      <div class="carousel-item">
        <img src="/images/banner3.png" class="d-block w-100" alt="banner3">
      </div>
    </div>
  </div>

  <div class="container">
    <div class="timkiem">
      <div class="title">
        <i class="fa-solid fa-magnifying-glass"></i>
        <p>Tìm kiếm sách</p>
      </div>
      <div class="search_box row">
        <div class="col-10">
          <div class="input-group mb-3">
            <select>
              <option>Tên sách</option>
              <option>Tên tác giả</option>
            </select>
            <input type="text">
          </div>
        </div>
        <div class="col-2">
          <button class="btnTimKiem">Tìm kiếm</button>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-sm-3">
        <div class="left_menu">
          <div class="theloai">
            <h5>Thể loại</h5>
          </div>
          <div class="dstheloai">
            <ul>
              <% categories.forEach(element => { %>
                <li><a><%= element.name %> </a></li>
              <% }) %>
            </ul>
          </div>
        </div>
        <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="/images/banner4.png" class="d-block w-100" alt="banner4">
            </div>
            <div class="carousel-item">
              <img src="/images/banner5.png" class="d-block w-100" alt="banner5">
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-9">
        <div class="row">
          <% books.forEach(element => { %>
            <div class="card-container col-sm-3">
              <div class="card-base">
                <img class="img-fluid img-card" src="<%= element.coverImage %>">
                <div class="btn-base">
                  <p class="text-base">Mượn sách</p>
                </div>
                <div class="text-content">
                  <div><i class="fa-solid fa-book"></i> <%= element.name %></div>
                  <div><i class="fa-solid fa-user"></i> <%= element.author.name %></div>
                </div>
              </div>
            </div>
          <% }) %>
          <div>
            <% if (pages > 0) { %>
                <ul class="pagination justify-content-center">
                    <% if (current == 1) { %>
                        <li class="disabled"><a class="page-link">
                            <span aria-hidden="true">&laquo;</span></a>
                        </li>
                    <% } else { %>
                        <li><a class="page-link" href="/1">
                            <span aria-hidden="true">&laquo;</span></a>
                        </li>
                    <% } %>
                    <% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
                    <% if (i !== 1) { %>
                        <li class="page-item active"><a class="page-link">...</a></li>
                    <% } %>
                    <% for (; i <= (Number(current) + 4) && i <= pages; i++) { %>
                        <% if (i == current) { %>
                            <li class="page-item active"><a class="page-link"><%= i %></a></li>
                        <% } else { %>
                            <li><a class="page-link" href="/<%= i %>"><%= i %></a></li>
                        <% } %>
                        <% if (i == Number(current) + 4 && i < pages) { %>
                            <li class="page-item active"><a class="page-link">...</a></li>
                        <% } %>
                    <% } %>
                    <% if (current == pages) { %>
                        <li class="disabled"><a class="page-link">
                            <span aria-hidden="true">&raquo;</span></a>
                        </li>
                    <% } else { %>
                        <li><a class="page-link" href="/<%= pages %>">
                            <span aria-hidden="true">&raquo;</span></a>
                        </li>
                    <% } %>
                </ul>
            <% } %>
        </div>
        </div>
      </div>
    </div>
  </div>
  <%- include('./particals/footer.ejs')  %> 